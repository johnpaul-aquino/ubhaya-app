<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubhaya - Team Management</title>
    <link rel="stylesheet" href="../assets/style.css">
    <style>
        .team-header {
            background: linear-gradient(135deg, #6B46C1 0%, #9333EA 100%);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 32px;
        }

        .team-member-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 16px;
            transition: all 0.2s;
        }

        .team-member-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #6B46C1;
        }

        .member-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6B46C1, #9333EA);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .member-info {
            flex: 1;
        }

        .member-name {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .member-role {
            color: #6b7280;
            margin-bottom: 8px;
        }

        .permission-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .permission-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <!-- Top Navigation Bar -->
    <div class="topbar">
        <div class="logo">Ubhaya</div>
        <div class="topbar-nav">
            <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" placeholder="Search anything...">
            </div>
            <a href="#" class="btn btn-icon">üîî</a>
            <div class="user-menu">
                <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #6B46C1, #9333EA); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; flex-shrink: 0;">JD</div>
                <span>John Doe</span>
            </div>
            <a href="login.html" class="btn btn-sm btn-outline">Logout</a>
        </div>
    </div>

    <div class="page-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <ul class="sidebar-nav">
                <li><a href="index.html">üè† Dashboard</a></li>
                <li><a href="facilities.html">üîç Facilities</a></li>
                <li><a href="shipments.html">üì¶ Shipments</a></li>
                <li><a href="contacts.html">üë• Contacts</a></li>
                <li><a href="calculator.html">üìä Shipping Calculator</a></li>
                <li><a href="documents.html">üìÅ Documents</a></li>
                <li><a href="team.html" class="active">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Team</a></li>
                <li><a href="#">‚öôÔ∏è Settings</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Team Header -->
            <div class="team-header">
                <h1 style="color: white; margin-bottom: 8px;">Team Management</h1>
                <p style="opacity: 0.95; margin-bottom: 24px;">Manage your team members and their permissions</p>

                <div class="grid grid-cols-4" style="margin-top: 32px;">
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem; font-weight: bold;">8</div>
                        <div style="opacity: 0.9;">Total Members</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem; font-weight: bold;">2</div>
                        <div style="opacity: 0.9;">Team Leaders</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem; font-weight: bold;">5</div>
                        <div style="opacity: 0.9;">Active Now</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem; font-weight: bold;">156</div>
                        <div style="opacity: 0.9;">Shared Resources</div>
                    </div>
                </div>
            </div>

            <!-- Team Actions -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                <h2>Team Members</h2>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-primary" onclick="openInviteModal()">‚ûï Invite Member</button>
                    <button class="btn btn-outline" onclick="openTeamSettings()">‚öôÔ∏è Team Settings</button>
                </div>
            </div>

            <!-- Team Members List -->
            <div class="card">
                <!-- You (Current User) -->
                <div class="team-member-card" style="border: 2px solid #6B46C1;">
                    <div class="member-avatar">JD</div>
                    <div class="member-info">
                        <div class="member-name">John Doe (You)</div>
                        <div class="member-role">Team Admin</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-purple">Admin</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline">Edit Profile</button>
                    </div>
                </div>

                <!-- Team Member 2 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #2563EB;">SC</div>
                    <div class="member-info">
                        <div class="member-name">Sarah Chen</div>
                        <div class="member-role">Team Leader - Operations</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-blue">Team Leader</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('sc', 'Sarah Chen', 'Team Leader', 'Operations', '2563EB')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('sc', 'Sarah Chen')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 3 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #22c55e;">MJ</div>
                    <div class="member-info">
                        <div class="member-name">Mike Johnson</div>
                        <div class="member-role">Team Leader - Logistics</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-blue">Team Leader</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('mj', 'Mike Johnson', 'Team Leader', 'Logistics', '22c55e')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('mj', 'Mike Johnson')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 4 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #f59e0b;">LW</div>
                    <div class="member-info">
                        <div class="member-name">Lisa Wang</div>
                        <div class="member-role">Member - Documentation</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-warning">Member</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('lw', 'Lisa Wang', 'Member', 'Documentation', 'f59e0b')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('lw', 'Lisa Wang')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 5 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #ef4444;">DL</div>
                    <div class="member-info">
                        <div class="member-name">David Lee</div>
                        <div class="member-role">Member - Shipping</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-warning">Member</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('dl', 'David Lee', 'Member', 'Shipping', 'ef4444')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('dl', 'David Lee')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 6 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #8b5cf6;">RK</div>
                    <div class="member-info">
                        <div class="member-name">Raj Kumar</div>
                        <div class="member-role">Member - Customer Relations</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge badge-warning">Member</span>
                            <span class="badge" style="background: #e5e7eb; color: #6b7280;">‚ö™ Offline</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('rk', 'Raj Kumar', 'Member', 'Customer Relations', '8b5cf6')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('rk', 'Raj Kumar')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 7 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #06b6d4;">AP</div>
                    <div class="member-info">
                        <div class="member-name">Amy Park</div>
                        <div class="member-role">Viewer - Analyst</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge" style="background: #e5e7eb; color: #6b7280;">Viewer</span>
                            <span class="badge" style="background: #e5e7eb; color: #6b7280;">‚ö™ Offline</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('ap', 'Amy Park', 'Viewer', 'Analyst', '06b6d4')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('ap', 'Amy Park')">Permissions</button>
                    </div>
                </div>

                <!-- Team Member 8 -->
                <div class="team-member-card">
                    <div class="member-avatar" style="background: #ec4899;">TC</div>
                    <div class="member-info">
                        <div class="member-name">Tom Chen</div>
                        <div class="member-role">Viewer - Finance</div>
                        <div style="display: flex; gap: 8px;">
                            <span class="badge" style="background: #e5e7eb; color: #6b7280;">Viewer</span>
                            <span class="badge" style="background: #e5e7eb; color: #6b7280;">‚ö™ Offline</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-sm btn-outline" onclick="openMemberDetail('tc', 'Tom Chen', 'Viewer', 'Finance', 'ec4899')">View</button>
                        <button class="btn btn-sm btn-outline" onclick="openPermissionsModal('tc', 'Tom Chen')">Permissions</button>
                    </div>
                </div>
            </div>

            <!-- Permissions Overview -->
            <div class="card">
                <h3 style="margin-bottom: 24px;">üîê Role Permissions</h3>

                <div class="grid grid-cols-2" style="gap: 24px;">
                    <!-- Admin Permissions -->
                    <div style="background: #f9fafb; padding: 24px; border-radius: 12px;">
                        <h4 style="color: #6B46C1; margin-bottom: 16px;">Admin</h4>
                        <div class="permission-grid">
                            <div class="permission-item">
                                <span>‚úÖ</span> Full Access
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> Manage Team
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> Delete Resources
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> System Settings
                            </div>
                        </div>
                    </div>

                    <!-- Team Leader Permissions -->
                    <div style="background: #f9fafb; padding: 24px; border-radius: 12px;">
                        <h4 style="color: #2563EB; margin-bottom: 16px;">Team Leader</h4>
                        <div class="permission-grid">
                            <div class="permission-item">
                                <span>‚úÖ</span> Create/Edit Resources
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> Share with Team
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> Manage Members
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> System Settings
                            </div>
                        </div>
                    </div>

                    <!-- Member Permissions -->
                    <div style="background: #f9fafb; padding: 24px; border-radius: 12px;">
                        <h4 style="color: #f59e0b; margin-bottom: 16px;">Member</h4>
                        <div class="permission-grid">
                            <div class="permission-item">
                                <span>‚úÖ</span> Create/Edit Own
                            </div>
                            <div class="permission-item">
                                <span>‚úÖ</span> View Shared
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> Manage Members
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> System Settings
                            </div>
                        </div>
                    </div>

                    <!-- Viewer Permissions -->
                    <div style="background: #f9fafb; padding: 24px; border-radius: 12px;">
                        <h4 style="color: #6b7280; margin-bottom: 16px;">Viewer</h4>
                        <div class="permission-grid">
                            <div class="permission-item">
                                <span>‚úÖ</span> View Only
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> Create/Edit
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> Manage Members
                            </div>
                            <div class="permission-item">
                                <span>‚ùå</span> System Settings
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Team Activity -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">üìä Team Activity</h3>
                    <button class="btn btn-sm btn-outline">View All</button>
                </div>

                <div class="activity-feed">
                    <div class="activity-item">
                        <div class="activity-icon" style="background: #dcfce7; color: #22c55e;">üì¶</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>Sarah Chen</strong> updated shipment FIG-123 status to "Delayed"</div>
                            <div class="activity-time">30 minutes ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon" style="background: #e0e7ff; color: #6B46C1;">üë•</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>Mike Johnson</strong> shared 5 new contacts with the team</div>
                            <div class="activity-time">2 hours ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon" style="background: #fef3c7; color: #f59e0b;">üìÑ</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>Lisa Wang</strong> uploaded Q4 Report.pdf to team documents</div>
                            <div class="activity-time">5 hours ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon" style="background: #fee2e2; color: #ef4444;">üîî</div>
                        <div class="activity-content">
                            <div class="activity-text"><strong>David Lee</strong> marked shipment FIG-126 as high priority</div>
                            <div class="activity-time">Yesterday</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Invite Member Modal -->
    <div id="inviteModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal('inviteModal')"></div>
        <div class="modal-content" style="width: 500px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                <h2 style="margin: 0;">Invite Team Member</h2>
                <button style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;" onclick="closeModal('inviteModal')">‚úï</button>
            </div>

            <form style="display: flex; flex-direction: column; gap: 20px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Email Address <span style="color: #ef4444;">*</span></label>
                    <input type="email" placeholder="Enter email address" style="width: 100%; padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
                </div>

                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Role <span style="color: #ef4444;">*</span></label>
                    <select style="width: 100%; padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
                        <option>Select a role</option>
                        <option value="admin">Admin</option>
                        <option value="team-leader">Team Leader</option>
                        <option value="member" selected>Member</option>
                        <option value="viewer">Viewer</option>
                    </select>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 12px; font-weight: 600; color: #374151;">Permission Template</label>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="radio" name="permission" value="full" checked>
                            <span><strong>Full Access</strong> - Can create, edit, and share resources</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="radio" name="permission" value="edit">
                            <span><strong>Edit Access</strong> - Can create and edit own resources</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="radio" name="permission" value="view">
                            <span><strong>View Only</strong> - Can only view shared resources</span>
                        </label>
                    </div>
                </div>

                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Welcome Message (Optional)</label>
                    <textarea placeholder="Add a personal welcome message..." style="width: 100%; padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box; min-height: 100px; font-family: inherit;"></textarea>
                </div>

                <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 12px;">
                    <button type="button" class="btn btn-outline" onclick="closeModal('inviteModal')">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="sendInvitation()">Send Invitation</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Member Detail Modal -->
    <div id="memberDetailModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal('memberDetailModal')"></div>
        <div class="modal-content" style="width: 550px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                <h2 style="margin: 0;">Member Profile</h2>
                <button style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;" onclick="closeModal('memberDetailModal')">‚úï</button>
            </div>

            <div style="display: flex; flex-direction: column; gap: 24px;">
                <!-- Member Info -->
                <div style="display: flex; gap: 20px; align-items: flex-start;">
                    <div id="memberDetailAvatar" style="width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(135deg, #6B46C1, #9333EA); display: flex; align-items: center; justify-content: center; color: white; font-size: 2.5rem; font-weight: 600; flex-shrink: 0;">JD</div>
                    <div style="flex: 1;">
                        <div style="font-size: 1.5rem; font-weight: 600; margin-bottom: 4px;" id="memberDetailName">John Doe</div>
                        <div style="color: #6b7280; margin-bottom: 12px;" id="memberDetailRole">Team Member</div>
                        <div style="display: flex; gap: 8px;">
                            <span id="memberDetailBadge" class="badge badge-purple">Member</span>
                            <span class="badge badge-success">üü¢ Online</span>
                        </div>
                    </div>
                </div>

                <!-- Details Grid -->
                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 4px;">Email</div>
                            <div style="font-weight: 500;" id="memberDetailEmail">sarah.chen@ubhaya.com</div>
                        </div>
                        <div>
                            <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 4px;">Phone</div>
                            <div style="font-weight: 500;">+91 98765 12345</div>
                        </div>
                        <div>
                            <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 4px;">Department</div>
                            <div style="font-weight: 500;" id="memberDetailDept">Operations</div>
                        </div>
                        <div>
                            <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 4px;">Join Date</div>
                            <div style="font-weight: 500;">Jan 15, 2024</div>
                        </div>
                    </div>
                </div>

                <!-- Activity -->
                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px;">
                    <h4 style="margin: 0 0 12px 0;">Recent Activity</h4>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-size: 0.875rem;">
                        <div style="padding: 8px; background: #f9fafb; border-radius: 6px;">Last active: 2 hours ago</div>
                        <div style="padding: 8px; background: #f9fafb; border-radius: 6px;">Updated shipment FIG-123</div>
                        <div style="padding: 8px; background: #f9fafb; border-radius: 6px;">Shared 3 documents with team</div>
                        <div style="padding: 8px; background: #f9fafb; border-radius: 6px;">Created new facility record</div>
                    </div>
                </div>

                <!-- Actions -->
                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; display: flex; gap: 12px; justify-content: flex-end;">
                    <button class="btn btn-outline" onclick="closeModal('memberDetailModal')">Close</button>
                    <button class="btn btn-outline">Edit Member</button>
                    <button class="btn btn-outline" style="color: #ef4444; border-color: #ef4444;">Remove</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Permissions Modal -->
    <div id="permissionsModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal('permissionsModal')"></div>
        <div class="modal-content" style="width: 700px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                <h2 style="margin: 0;">Manage Permissions - <span id="permMemberName">Sarah Chen</span></h2>
                <button style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;" onclick="closeModal('permissionsModal')">‚úï</button>
            </div>

            <div style="display: flex; flex-direction: column; gap: 20px;">
                <!-- Facilities Module -->
                <div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
                    <h4 style="margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;">üîç Facilities</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>View</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>Edit</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Delete</span>
                        </label>
                    </div>
                </div>

                <!-- Shipments Module -->
                <div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
                    <h4 style="margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;">üì¶ Shipments</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>View</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>Edit</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Delete</span>
                        </label>
                    </div>
                </div>

                <!-- Contacts Module -->
                <div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
                    <h4 style="margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;">üë• Contacts</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>View</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Edit</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Delete</span>
                        </label>
                    </div>
                </div>

                <!-- Documents Module -->
                <div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
                    <h4 style="margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;">üìÅ Documents</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>View</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Upload</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Delete</span>
                        </label>
                    </div>
                </div>

                <!-- Team Module -->
                <div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px;">
                    <h4 style="margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Team</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" checked> <span>View</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Invite</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox"> <span>Manage</span>
                        </label>
                    </div>
                </div>

                <!-- Actions -->
                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; display: flex; gap: 12px; justify-content: flex-end;">
                    <button class="btn btn-outline" onclick="closeModal('permissionsModal')">Cancel</button>
                    <button class="btn btn-primary" onclick="savePermissions()">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Styles -->
    <style>
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        .modal-content {
            position: relative;
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal.active {
            display: flex !important;
        }
    </style>

    <script src="../assets/dashboard.js"></script>
    <script>
        // Modal Functions
        function openInviteModal() {
            document.getElementById('inviteModal').classList.add('active');
            document.getElementById('inviteModal').style.display = 'flex';
        }

        function openMemberDetail(id, name, role, dept, color) {
            document.getElementById('memberDetailAvatar').textContent = name.split(' ').map(n => n[0]).join('');
            document.getElementById('memberDetailAvatar').style.background = `linear-gradient(135deg, #${color}, ${adjustBrightness('#' + color, 20)})`;
            document.getElementById('memberDetailName').textContent = name;
            document.getElementById('memberDetailRole').textContent = role + ' - ' + dept;
            document.getElementById('memberDetailEmail').textContent = name.toLowerCase().replace(' ', '.') + '@ubhaya.com';
            document.getElementById('memberDetailDept').textContent = dept;

            document.getElementById('memberDetailModal').classList.add('active');
            document.getElementById('memberDetailModal').style.display = 'flex';
        }

        function openPermissionsModal(id, name) {
            document.getElementById('permMemberName').textContent = name;
            document.getElementById('permissionsModal').classList.add('active');
            document.getElementById('permissionsModal').style.display = 'flex';
        }

        function openTeamSettings() {
            alert('Team Settings coming soon!');
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            modal.style.display = 'none';
        }

        function sendInvitation() {
            alert('Invitation sent successfully!');
            closeModal('inviteModal');
        }

        function savePermissions() {
            alert('Permissions updated successfully!');
            closeModal('permissionsModal');
        }

        // Helper function to adjust color brightness
        function adjustBrightness(color, percent) {
            const num = parseInt(color.replace("#",""), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) + amt;
            const G = (num >> 8 & 0x00FF) + amt;
            const B = (num & 0x0000FF) + amt;
            return "#" + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 +
                (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255))
                .toString(16).slice(1);
        }

        // Close modal on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    closeModal(modal.id);
                });
            }
        });
    </script>
</body>
</html>